"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var Koa=require("koa"),koaBody=require("koa-body"),path=require("path"),Router=require("koa-router"),Mock=require("mockjs"),router=new Router,getRoutes=function(e){if(Array.isArray(e))return e.forEach(function(e){var o=e.url,r=e.method,t=e.res,a=e.param;router[r](o,function(e,o){e.body=a?a(e.request.body,e.query):t,e.body=Mock.mock(e.body),o()})}),router.routes()},app=new Koa;app.use(koaBody({multipart:!0,encoding:"gzip",formidable:{uploadDir:path.join(__dirname,"public/upload/"),keepExtensions:!0,maxFieldsSize:2097152}}));var rdMock=function(e,o){var r=1<arguments.length&&void 0!==o?o:5111;app.use(getRoutes(e)),app.listen(r,function(){console.log("Project is running at http://localhost:".concat(r,"/"))})};Object.defineProperty(exports,"Random",{enumerable:!0,get:function(){return Mock.Random}}),exports.rdMock=rdMock;
